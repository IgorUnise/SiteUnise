<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Página oficial do Setor de Expansão e Negócios da UniÚnica.">
    <title>Setor de Expansão e Negócios</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs" defer></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <style>
      html {
        scroll-behavior: smooth;
      }
      .produto-card {
        background-color: white;
        padding: 1.5rem;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: 0.3s;
        text-align: center;
        font-weight: 600;
        color: #5b21b6;
      }
      .produto-card:hover {
        background-color: #f3e8ff;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
      }
    </style>
    <script type="text/javascript" src="mapa/mapdata.js"></script>
    <script type="text/javascript" src="mapa/countrymap.js"></script>
  </head>
  <body class="font-sans antialiased text-gray-900 bg-purple-50">
    <!-- Topo -->
    <header class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
        <!-- Título com logo -->
        <div class="flex items-center space-x-3">
        <img src="logo.png" alt="Logo Expansão e Negócios" class="w-30 h-10 object-contain" />
        </div>
        <!-- Navegação -->
        <nav class="space-x-4">
        <a href="#home" class="hover:text-purple-600 font-medium">Home</a>
        <a href="#produtos" class="hover:text-purple-600 font-medium">Produtos</a>
        <a href="#mapa" class="hover:text-purple-600 font-medium">Onde Estamos?</a>
        <a href="#duvidas" class="hover:text-purple-600 font-medium">Dúvidas</a>
        <a href="#contato" class="hover:text-purple-600 font-medium">Contato</a>
        </nav>
    </div>
    </header>

    <!-- Home -->
    <section id="home" class="bg-purple-100 py-20 text-center">
      <h2 class="text-4xl font-bold text-purple-800 mb-4 animate__animated animate__fadeInDown">
        Bem-vindo ao Setor de Expansão e Negócios
      </h2>
      <p class="text-lg text-purple-700 animate__animated animate__fadeInUp">
        Tudo o que você precisa saber para crescer conosco.
      </p>
    </section>

    <!-- Produtos -->
    <section id="produtos" class="bg-purple-100 py-16 px-4">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl font-bold mb-10 text-center text-purple-800">
          Nossos Produtos
        </h2>
        <div class="grid md:grid-cols-3 gap-6">
          <button
            onclick="openModal('Graduação', 'https://drive.google.com/drive/folders/1j7G8VkDgSW9bhD2_4ZeD2hAdBZefEZ1c?usp=drive_link',
            'https://drive.google.com/drive/folders/1j7G8VkDgSW9bhD2_4ZeD2hAdBZefEZ1c?usp=drive_link',
            'https://drive.google.com/file/d/1FT2CSUpwZtIdP71-wCZPEHAfDGy2xRrN/view?usp=sharing')"
            class="produto-card">
            Graduação
          </button>
          <button
            onclick="openModal('Segunda Graduação', 'https://drive.google.com/drive/folders/1vQ-CZ12uqy6HxTxKUt8etatLnzrtwOdn',
            'https://drive.google.com/drive/folders/1OItV_fNWQzupiVoRspbwwC_9xEvyi8M0?usp=drive_link',
            'https://drive.google.com/file/d/1FT2CSUpwZtIdP71-wCZPEHAfDGy2xRrN/view?usp=sharing')"
            class="produto-card">
            Segunda Graduação
          </button>
          <button
            onclick="openModal('Pós-Graduação', 'https://drive.google.com/drive/folders/1KbladBVJgP7uXu1n8JRyA91XKmG9fnLr', 
            'https://drive.google.com/drive/folders/1Bwp3Bubc4vFUo0fj_XVWvhYhgmBjiz9J?usp=drive_link',
            'https://drive.google.com/file/d/1FT2CSUpwZtIdP71-wCZPEHAfDGy2xRrN/view?usp=sharing')"
            class="produto-card">
            Pós-Graduação
          </button>
          <button
            onclick="openModal('Disciplinas Isoladas', 'https://drive.google.com/drive/folders/1BoXZxArm4zClzkfp7yIYHrf0XH5NVt4Z',
            'https://drive.google.com/drive/folders/13DwwcwNS8XHohVxbfNCZGjAgBkJhCGZh?usp=drive_link',
            'https://drive.google.com/file/d/1FT2CSUpwZtIdP71-wCZPEHAfDGy2xRrN/view?usp=sharing')"
            class="produto-card">
            Disciplinas Isoladas
          </button>
          <button
            onclick="openModal('EJA', 'https://drive.google.com/drive/folders/136GloEDVBeldo-MzU-8DkfYGXQD1rG02',
            'https://drive.google.com/drive/folders/1jTLe430HrxvxpZWBFxRV4AqsgLZOMS8u',
            'https://drive.google.com/file/d/1FT2CSUpwZtIdP71-wCZPEHAfDGy2xRrN/view?usp=sharing')"
            class="produto-card">
            EJA
          </button>
          <button
            onclick="openModal('Cursos Técnicos', 'https://drive.google.com/drive/folders/13DwwcwNS8XHohVxbfNCZGjAgBkJhCGZh?usp=drive_link',
            'https://drive.google.com/drive/folders/1jTLe430HrxvxpZWBFxRV4AqsgLZOMS8u',
            'https://drive.google.com/file/d/1FT2CSUpwZtIdP71-wCZPEHAfDGy2xRrN/view?usp=sharing')"
            class="produto-card">
            Cursos Técnicos
          </button>
        </div>
      </div>
    </section>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
      <div class="bg-white p-6 rounded shadow-lg max-w-md text-center relative">
        <button onclick="closeModal()" class="absolute top-2 right-2 text-gray-600 hover:text-red-600 text-2xl">
          &times;
        </button>
        <h3 id="modal-title" class="text-xl font-bold text-purple-800 mb-4"></h3>
        <p class="mb-6 text-gray-700">
          Escolha abaixo uma das opções para acessar o material:
        </p>
        <div class="flex flex-col gap-3">
          <a id="modal-link-catalogo" href="#" target="_blank" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded">
            Ver Catálogo
          </a>
          <a  id="modal-link-criativos" href="#" target="_blank" class="bg-purple-500 hover:bg-purple-600 text-white font-semibold py-2 px-4 rounded">
            Ver Criativos
          </a>
          <a id="modal-link-regulamento" href="#" target="_blank" class="bg-purple-400 hover:bg-purple-500 text-white font-semibold py-2 px-4 rounded">
            Ver Regulamento
          </a>
        </div>
      </div>
    </div>

    <!-- Dúvidas -->
    <section id="duvidas" class="py-16 px-4 max-w-4xl mx-auto" x-data="faqSearch()">
      <h2 class="text-3xl font-bold mb-6 text-purple-800">
        Dúvidas mais comuns
      </h2>

      <!-- Campo de pesquisa -->
      <input type="text" placeholder="Digite uma palavra-chave referente a sua dúvida..."
        x-model="search" class="w-full p-3 mb-6 border rounded shadow focus:outline-none focus:ring-2 focus:ring-purple-500"/>

      <!-- Lista de dúvidas -->
      <div class="space-y-4">
        <template x-for="(faq, index) in filteredFaqs" :key="index">
          <div>
            <button @click="selected !== index ? selected = index : selected = null"
              class="w-full text-left bg-white p-4 rounded shadow font-semibold text-purple-700" x-text="faq.pergunta"></button>
            <div x-show="selected === index" x-transition class="p-4 bg-purple-50 border rounded" x-html="faq.resposta"></div>
          </div>
        </template>

        <!-- Caso nenhuma dúvida seja encontrada -->
        <div x-show="filteredFaqs.length === 0" class="text-gray-500 text-center mt-6">
          Nenhuma dúvida encontrada com essa palavra-chave.
        </div>
      </div>
    </section>

    <!-- Mapa dos Polos -->
    <section id="mapa" class="py-16 px-4 bg-white">
    <div class="max-w-5xl mx-auto">
        <h2 class="text-3xl font-bold mb-6 text-purple-800">Onde Estamos</h2>
        <p class="mb-4 text-gray-700">
        Confira no mapa onde estão localizados nossos polos pelo Brasil:
        </p>
        <input type="text" id="city-search" placeholder="Clique aqui para listar os polos ou digite para pesquisar..." class="w-full md:w-1/2 p-2 border border-purple-400 rounded mb-4"/>
        <ul id="autocomplete-results" class="border border-gray-300 rounded bg-white max-h-60 overflow-auto hidden absolute z-50 w-full md:w-1/2"></ul>
        <div id="map" class="w-full h-[600px] rounded overflow-hidden shadow-lg border-2 border-purple-300">
            <div id="map"></div>
        </div>
    </div>
    </section>

    <!-- Contato -->
    <section id="contato" class="bg-purple-100 py-16 px-4">
    <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold mb-6 text-purple-800">Fale Conosco</h2>
        <form id="contatoForm"
            action="https://formsubmit.co/felipe.silva@uniunica.edu.br"
            method="POST"
            onsubmit="handleFormSubmit(event)"
            class="space-y-4">

        <input type="hidden" name="_captcha" value="false" />
        <input type="hidden" name="_next" value="https://suaurl.com/sucesso.html" />

        <div>
            <label for="nome" class="block text-purple-700 font-semibold">Nome</label>
            <input type="text" id="nome" name="nome" placeholder="Seu nome" class="w-full p-3 rounded border" required />
        </div>

        <div>
            <label for="email" class="block text-purple-700 font-semibold">E-mail</label>
            <input type="email" id="email" name="email" placeholder="Seu e-mail" class="w-full p-3 rounded border" required />
        </div>

        <div>
            <label for="telefone" class="block text-purple-700 font-semibold">Telefone</label>
            <input type="tel" id="telefone" name="telefone" placeholder="(00) 00000-0000" class="w-full p-3 rounded border" />
        </div>

        <div>
            <label for="mensagem" class="block text-purple-700 font-semibold">Mensagem</label>
            <textarea id="mensagem" name="mensagem" placeholder="Escreva sua mensagem aqui..." class="w-full p-3 rounded border h-32" required></textarea>
        </div>

        <button type="submit" class="bg-purple-700 text-white px-6 py-3 rounded hover:bg-purple-800">
            Enviar
        </button>
        </form>
    </div>
    </section>

    <!-- Rodapé -->
    <footer class="bg-white text-center py-6 border-t">
      <p class="text-sm text-gray-600">
        © 2025 Centro Universitário Única | Expansão e Negócios
      </p>
    </footer>

    <!-- Popup -->
    <div
      x-data="{ show: false }"
      x-show="show"
      x-transition
      x-init="
        window.addEventListener('form-enviado', () => {
          show = true;
          setTimeout(() => show = false, 4000);
        })
      "
      class="fixed inset-0 flex items-center justify-center z-50"
      style="display: none"
      id="popupSuccess">
      <div class="bg-white rounded-lg p-6 shadow-xl border border-green-300 animate__animated animate__fadeInDown">
        <div class="text-green-600 text-2xl font-semibold mb-2">
          ✅ Mensagem Enviada!
        </div>
        <p class="text-gray-700">
          Agradecemos o seu contato. Em breve retornaremos.
        </p>
      </div>
    </div>

    <script>
      function resetFormAfterSend() {
        setTimeout(() => {
          document.getElementById("contatoForm").reset();
        }, 1000);
      }

      function handleFormSubmit(event) {
        event.preventDefault();
        const form = document.getElementById("contatoForm");
        fetch(form.action, {
          method: "POST",
          body: new FormData(form),
          headers: { Accept: "application/json" },
        })
          .then((response) => {
            if (response.ok) {
              form.reset();
              window.dispatchEvent(new Event("form-enviado"));
            } else {
              alert("Formulário enviado. Em breve retornaremos");
            }
          })
          .catch(() => alert("Erro ao enviar. Tente novamente."));
      }

      function openModal(titulo, linkCatalogo, linkCriativos, linkRegulamento) {
        document.getElementById("modal-title").textContent = titulo;
        document.getElementById("modal-link-catalogo").href = linkCatalogo;
        document.getElementById("modal-link-criativos").href = linkCriativos;
        document.getElementById("modal-link-regulamento").href = linkRegulamento;
        document.getElementById("modal").classList.remove("hidden");
      }
      function closeModal() {
        document.getElementById("modal").classList.add("hidden");
      }

      function faqSearch() {
        return {
          search: "",
          selected: null,
          faqs: [
            {
              pergunta: "Onde encontro os preços atuais dos nossos produtos?",
              resposta:
                'Temos um drive contendo as informações referentes ao regulamento, clique no <a href="https://drive.google.com/file/d/1FT2CSUpwZtIdP71-wCZPEHAfDGy2xRrN/view?usp=sharing" class="text-purple-600 underline">regulamento</a>.',
            },
            {
              pergunta: "Onde eu localizo os criativos para postagem?",
              resposta:
                'Temos um drive contendo os criativos, clique no <a href="https://drive.google.com/drive/folders/1jTLe430HrxvxpZWBFxRV4AqsgLZOMS8u" class="text-purple-600 underline">criativos</a>.',
            },
            // Adicione mais dúvidas aqui
          ],
          get filteredFaqs() {
            if (!this.search.trim()) return this.faqs;
            const keyword = this.search.toLowerCase();
            return this.faqs.filter(
              (f) =>
                f.pergunta.toLowerCase().includes(keyword) ||
                f.resposta.toLowerCase().includes(keyword)
            );
          },
        };
      }

      document.addEventListener("DOMContentLoaded", () => {
        const searchInput = document.getElementById("city-search");
        const resultsContainer = document.getElementById("autocomplete-results");
        // Acessa o objeto de cidades definido em mapdata.js
        const citiesData = simplemaps_countrymap_mapdata.locations;
        // Mapeia e ordena alfabeticamente
        const cities = Object.values(citiesData)
          .map(city => city.name)
          .sort((a, b) => a.localeCompare(b));
        // Mostrar todas as cidades ao focar no input
        searchInput.addEventListener("focus", () => {
            renderAutocompleteList(cities);
        });

        // Atualiza lista conforme digita
        searchInput.addEventListener("input", function () {
            const query = this.value.toLowerCase();
            const filtered = cities.filter(name => name.toLowerCase().includes(query));
            renderAutocompleteList(filtered);
        });

        // Função para renderizar a lista
        function renderAutocompleteList(cityList) {
            resultsContainer.innerHTML = "";
            if (cityList.length === 0) {
                resultsContainer.classList.add("hidden");
                return;
            }

            cityList.forEach(city => {
                const li = document.createElement("li");
                li.textContent = city;
                li.classList.add("px-4", "py-2", "hover:bg-purple-100", "cursor-pointer");
                li.addEventListener("click", () => {
                    searchInput.value = city;
                    resultsContainer.innerHTML = "";
                    resultsContainer.classList.add("hidden");
                    focusCityOnMap(city);
                });
                resultsContainer.appendChild(li);
            });

            resultsContainer.classList.remove("hidden");
        }
        // (Opcional) Centralizar no mapa a cidade selecionada
        function focusCityOnMap(cityName) {
            const cityKey = Object.keys(citiesData).find(key => citiesData[key].name === cityName);
            if (cityKey && simplemaps_countrymap) {
                simplemaps_countrymap.set_zoom(4);
                simplemaps_countrymap.highlight_region(cityKey);
            }
        }
        // Ocultar lista ao clicar fora
        document.addEventListener("click", (e) => {
            if (!searchInput.contains(e.target) && !resultsContainer.contains(e.target)) {
                resultsContainer.classList.add("hidden");
            }
        });
    });
    </script>
  </body>
</html>
